---
export interface Props {
  category?: 'success' | 'info' | 'warning' | 'error';
  title: string;
  description?: string;
  duration?: number;
  class?: string;
}

const { 
  category = 'info', 
  title, 
  description,
  duration,
  class: className = "" 
} = Astro.props;
---

<div 
  class={`toast ${className}`.trim()} 
  role="status" 
  aria-atomic="true" 
  aria-hidden="false"
  data-category={category}
  data-duration={duration}
>
  <div class="toast-content">
    {category === 'success' && (
      <svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <circle cx="12" cy="12" r="10" />
        <path d="m9 12 2 2 4-4" />
      </svg>
    )}
    {category === 'error' && (
      <svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <circle cx="12" cy="12" r="10" />
        <line x1="15" y1="9" x2="9" y2="15" />
        <line x1="9" y1="9" x2="15" y2="15" />
      </svg>
    )}
    {category === 'warning' && (
      <svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z" />
        <path d="M12 9v4" />
        <path d="m12 17 .01 0" />
      </svg>
    )}
    {category === 'info' && (
      <svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <circle cx="12" cy="12" r="10" />
        <path d="m12 16 0-4" />
        <path d="m12 8 .01 0" />
      </svg>
    )}

    <section>
      <h2>{title}</h2>
      {description && <p>{description}</p>}
    </section>

    <footer>
      <button type="button" class="btn">Dismiss</button>
    </footer>
  </div>
</div>