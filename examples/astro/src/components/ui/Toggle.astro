---
export interface Props {
  pressed?: boolean;
  disabled?: boolean;
  variant?: 'default' | 'outline';
  size?: 'sm' | 'lg';
  class?: string;
  [key: string]: any;
}

const { 
  pressed = false, 
  disabled = false, 
  variant = 'default',
  size,
  class: className = "",
  ...restProps
} = Astro.props;

// Toggle usa clases de Button según patrón Basecoat
let toggleClass = 'btn';
if (variant === 'outline') {
  toggleClass = 'btn-outline';
}

// Agregar tamaños si es necesario
if (size) {
  if (variant === 'default') {
    toggleClass = `btn-${size}`;
  } else {
    toggleClass = `btn-${size}-${variant}`;
  }
}

// Agregar estado pressed como data attribute para CSS
const pressedClass = pressed ? 'pressed' : '';
---

<button 
  class={`${toggleClass} ${pressedClass} ${className}`.trim()}
  aria-pressed={pressed ? "true" : "false"}
  disabled={disabled}
  type="button"
  data-pressed={pressed}
  {...restProps}
>
  <slot />
</button>